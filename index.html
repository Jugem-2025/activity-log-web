  <script>
    const tags = JSON.parse(localStorage.getItem("tags") || '["èµ·åºŠ", "(ç¶šã)", "ã‚·ãƒ£ãƒ¯ãƒ¼ãƒ»é¢¨å‘‚", "æœé£Ÿ", "æ˜¼é£Ÿ", "å¤•é£Ÿ", "å¤–å‡º", "ç§»å‹•", "å€‹äººèª²é¡Œ", "è¬›ç¾©", "å¸°å®…", "å®¶äº‹", "ä¼‘æ†©", "å°±å¯", "è–¬", "ç¡çœ "]');
    const options = Array.from({length: 21}, (_, i) => i * 5);
    const recordArea = document.getElementById("recordArea");

    function renderForm(dateStr) {
      recordArea.innerHTML = "";
      const saved = JSON.parse(localStorage.getItem(dateStr) || "{}");

      for (let i = 0; i < 24; i++) {
        const hour = (i + 4) % 24;
        const key = hour.toString().padStart(2, "0");
        const entry = saved[key] || { activity: [], mood: 50, fatigue: 50, free: "", folded:

æ‰¿çŸ¥ã—ã¾ã—ãŸï¼  
ä»¥ä¸‹ã«**å³ä¸Šã‚¢ã‚¤ã‚³ãƒ³ï¼ˆğŸ“…é€±é–“è¡¨ç¤º / âš™ï¸ã‚¿ã‚°ç·¨é›†ï¼‰ä»˜ãï¼†ä¿å­˜å¾Œè‡ªå‹•æŠ˜ã‚ŠãŸãŸã¿ï¼‹å†ç·¨é›†å¯èƒ½ãªæœ€æ–°ç‰ˆã®`index.html`å…¨ä½“ã‚³ãƒ¼ãƒ‰**ã‚’**ãƒ™ã‚¿è²¼ã‚Šã§å®Œå…¨é€ä¿¡**ã„ãŸã—ã¾ã™ã€‚

---

### âœ… `index.html`ï¼ˆæœ€æ–°ç‰ˆãƒ™ã‚¿è²¼ã‚Šï¼‰

```html
<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>æ´»å‹•è¨˜éŒ²</title>
  <style>
    body {
      font-family: sans-serif;
      padding: 1em;
    }
    .top-icons {
      text-align: right;
      margin-bottom: 10px;
    }
    .top-icons a {
      margin-left: 10px;
      text-decoration: none;
      font-size: 1.5em;
    }
    .hour-block {
      border: 1px solid #ccc;
      margin-bottom: 10px;
      padding: 8px;
      border-radius: 5px;
    }
    .hour-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      cursor: pointer;
    }
    .compact-display {
      padding-left: 1em;
      font-size: 0.9em;
      color: #555;
    }
    .hidden {
      display: none;
    }
    label {
      display: inline-block;
      margin-top: 4px;
    }
    select, input[type="text"] {
      width: 100%;
      margin-bottom: 4px;
    }
    .save-btn {
      margin-top: 6px;
    }
  </style>
</head>
<body>
  <h1>æ´»å‹•è¨˜éŒ²</h1>
  <div class="top-icons">
    <a href="week.html" title="é€±é–“è¡¨ç¤ºãƒšãƒ¼ã‚¸ã¸">ğŸ“…</a>
    <a href="tags.html" title="ã‚¿ã‚°ç·¨é›†ãƒšãƒ¼ã‚¸ã¸">âš™ï¸</a>
  </div>
  <input type="date" id="recordDate" />
  <div id="recordArea"></div>

  <script>
    const tags = JSON.parse(localStorage.getItem("tags") || '["èµ·åºŠ", "(ç¶šã)", "ã‚·ãƒ£ãƒ¯ãƒ¼ãƒ»é¢¨å‘‚", "æœé£Ÿ", "æ˜¼é£Ÿ", "å¤•é£Ÿ", "å¤–å‡º", "ç§»å‹•", "å€‹äººèª²é¡Œ", "è¬›ç¾©", "å¸°å®…", "å®¶äº‹", "ä¼‘æ†©", "å°±å¯", "è–¬", "ç¡çœ "]');
    const options = Array.from({length: 21}, (_, i) => i * 5);
    const recordArea = document.getElementById("recordArea");

    function renderForm(dateStr) {
      recordArea.innerHTML = "";
      const saved = JSON.parse(localStorage.getItem(dateStr) || "{}");

      for (let i = 0; i < 24; i++) {
        const hour = (i + 4) % 24;
        const key = hour.toString().padStart(2, "0");
        const entry = saved[key] || { activity: [], mood: 50, fatigue: 50, free: "", folded: false };

        const block = document.createElement("div");
        block.className = "hour-block";
        const header = document.createElement("div");
        header.className = "hour-header";
        const timeLabel = document.createElement("div");
        timeLabel.textContent = `${key}:00ã€œ`;

        const saveBtn = document.createElement("button");
        saveBtn.textContent = "ä¿å­˜ã™ã‚‹";
        saveBtn.className = "save-btn";

        const container = document.createElement("div");
        container.className = entry.folded ? "hidden" : "";

        const compact = document.createElement("div");
        compact.className = "compact-display";
        compact.innerHTML = `
          ã‚„ã£ãŸã“ã¨: ${entry.activity.join(", ")}<br>
          æ°—åˆ†: ${entry.mood} / ç–²åŠ´: ${entry.fatigue}<br>
          ãƒ¡ãƒ¢: ${entry.free}
        `;
        compact.style.display = entry.folded ? "block" : "none";

        const sel = document.createElement("select");
        const defaultOpt = document.createElement("option");
        defaultOpt.textContent = "ã‚„ã£ãŸã“ã¨ã‚’é¸æŠ";
        defaultOpt.value = "";
        sel.appendChild(defaultOpt);
        tags.forEach(tag => {
          const opt = document.createElement("option");
          opt.value = tag;
          opt.textContent = tag;
          sel.appendChild(opt);
        });
        sel.onchange = () => {
          if (sel.value && !entry.activity.includes(sel.value)) {
            entry.activity.push(sel.value);
            renderForm(dateStr); // å†æç”»
          }
        };

        const moodSel = document.createElement("select");
        options.forEach(val => {
          const opt = document.createElement("option");
          opt.value = val;
          opt.textContent = val;
          if (val === entry.mood) opt.selected = true;
          moodSel.appendChild(opt);
        });

        const fatigueSel = document.createElement("select");
        options.forEach(val => {
          const opt = document.createElement("option");
          opt.value = val;
          opt.textContent = val;
          if (val === entry.fatigue) opt.selected = true;
          fatigueSel.appendChild(opt);
        });

        const freeInput = document.createElement("input");
        freeInput.type = "text";
        freeInput.placeholder = "è‡ªç”±è¨˜å…¥æ¬„";
        freeInput.value = entry.free;

        header.onclick = () => {
          entry.folded = !entry.folded;
          renderForm(dateStr);
        };

        saveBtn.onclick = () => {
          entry.mood = parseInt(moodSel.value);
          entry.fatigue = parseInt(fatigueSel.value);
          entry.free = freeInput.value;
          entry.folded = true;
          saved[key] = entry;
          localStorage.setItem(dateStr, JSON.stringify(saved));
          renderForm(dateStr);
        };

        header.appendChild(timeLabel);
        header.appendChild(saveBtn);
        block.appendChild(header);
        block.appendChild(container);
        block.appendChild(compact);

        container.appendChild(document.createElement("label")).textContent = "ã‚„ã£ãŸã“ã¨";
        container.appendChild(sel);
        container.appendChild(document.createElement("label")).textContent = "æ°—åˆ†";
        container.appendChild(moodSel);
        container.appendChild(document.createElement("label")).textContent = "ç–²åŠ´åº¦";
        container.appendChild(fatigueSel);
        container.appendChild(document.createElement("label")).textContent = "è‡ªç”±è¨˜å…¥";
        container.appendChild(freeInput);

        recordArea.appendChild(block);
      }
    }

    const dateInput = document.getElementById("recordDate");
    const today = new Date().toISOString().split("T")[0];
    dateInput.value = today;
    dateInput.onchange = () => renderForm(dateInput.value);
    renderForm(today);
  </script>
</body>
</html>